{"version":3,"sources":["../../server/plugins/swagger.js"],"names":["name","logger","require","module","exports","register","server","options","Inert","Vision","plugin","HapiSwagger","HapiSwaggeredUI","title","info","path","swaggerEndpoint","swaggerOptions","validatorUrl"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,IAAI,GAAG,SAAb;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAAP,CAA0B;AAAEF,EAAAA,IAAI,EAAG,UAASA,IAAK;AAAvB,CAA1B,CAAf;;AAEAG,MAAM,CAACC,OAAP,GAAiB;AACbJ,EAAAA,IADa;;AAEb,QAAMK,QAAN,CAAeC,MAAf,EAAuBC,OAAvB,EAAgC;AAE5B;AACA,UAAMD,MAAM,CAACD,QAAP,CAAgB,CAClBG,cADkB,EAElBC,eAFkB,EAGlB;AACIC,MAAAA,MAAM,EAAEC,oBADZ;AAEIJ,MAAAA;AAFJ,KAHkB,EAOlB;AACIG,MAAAA,MAAM,EAAEE,wBADZ;AAEIL,MAAAA,OAAO,EAAE;AACLM,QAAAA,KAAK,EAAEN,OAAO,CAACO,IAAR,CAAaD,KADf;AAELE,QAAAA,IAAI,EAAE,gBAFD;AAGLC,QAAAA,eAAe,EAAE,eAHZ;AAILC,QAAAA,cAAc,EAAE;AACZC,UAAAA,YAAY,EAAE;AADF;AAJX;AAFb,KAPkB,CAAhB,CAAN;AAmBAjB,IAAAA,MAAM,CAACa,IAAP,CAAY,YAAZ;AACH;;AAzBY,CAAjB","sourcesContent":["import HapiSwagger from 'hapi-swagger';\nimport HapiSwaggeredUI from 'hapi-swaggered-ui';\nimport Inert from 'inert';\nimport Vision from 'vision';\n\nconst name = 'swagger';\nconst logger = require('../util/logger')({ name: `plugin:${name}` });\n\nmodule.exports = {\n    name,\n    async register(server, options) {\n\n        // We added in HapiSwaggerUI because HapiSwagger hadn't been updated and had an SSL bug.\n        await server.register([\n            Inert,\n            Vision,\n            {\n                plugin: HapiSwagger,\n                options\n            },\n            {\n                plugin: HapiSwaggeredUI,\n                options: {\n                    title: options.info.title,\n                    path: '/documentation',\n                    swaggerEndpoint: '/swagger.json',\n                    swaggerOptions: {\n                        validatorUrl: null\n                    }\n                }\n            }\n        ]);\n        logger.info('registered');\n    }\n};\n"],"file":"swagger.js"}
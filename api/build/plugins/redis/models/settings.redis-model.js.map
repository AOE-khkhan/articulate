{"version":3,"sources":["../../../../server/plugins/redis/models/settings.redis-model.js"],"names":["schema","name","type","unique","index","defaultSort","value","creationDate","modificationDate","SettingsRedisModel","BaseModel","constructor","modelName","MODEL_SETTINGS","idGenerator","definitions","findAll","ids","find","findAllByIds","findByName","searchByField","field","module","exports"],"mappings":";;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG;AACXC,EAAAA,IAAI,EAAE;AACFC,IAAAA,IAAI,EAAE,QADJ;AAEFC,IAAAA,MAAM,EAAE,IAFN;AAGFC,IAAAA,KAAK,EAAE,IAHL;AAIFC,IAAAA,WAAW,EAAE;AAJX,GADK;AAOXC,EAAAA,KAAK,EAAE;AACHJ,IAAAA,IAAI,EAAE;AADH,GAPI;AAUXK,EAAAA,YAAY,EAAE;AACVL,IAAAA,IAAI,EAAE;AADI,GAVH;AAaXM,EAAAA,gBAAgB,EAAE;AACdN,IAAAA,IAAI,EAAE;AADQ;AAbP,CAAf;;AAkBA,MAAMO,kBAAN,SAAiCC,kBAAjC,CAA2C;AAEvCC,EAAAA,WAAW,GAAG;AAEV,UAAM;AAAEX,MAAAA;AAAF,KAAN;AACH;;AAED,aAAWY,SAAX,GAAuB;AAEnB,WAAOC,yBAAP;AACH;;AAED,aAAWC,WAAX,GAAyB;AAErB,WAAO,WAAP;AACH;;AAED,aAAWC,WAAX,GAAyB;AAErB,WAAOf,MAAP;AACH;;AAED,QAAMgB,OAAN,GAAgB;AAEZ,UAAMC,GAAG,GAAG,MAAM,KAAKC,IAAL,EAAlB;AACA,WAAO,MAAM,KAAKC,YAAL,CAAkB;AAAEF,MAAAA;AAAF,KAAlB,CAAb;AACH;;AAED,QAAMG,UAAN,CAAiB;AAAEnB,IAAAA;AAAF,GAAjB,EAA2B;AAEvB,WAAO,MAAM,KAAKoB,aAAL,CAAmB;AAAEC,MAAAA,KAAK,EAAE,MAAT;AAAiBhB,MAAAA,KAAK,EAAEL;AAAxB,KAAnB,CAAb;AACH;;AA/BsC;;AAkC3CsB,MAAM,CAACC,OAAP,GAAiBf,kBAAjB","sourcesContent":["import { MODEL_SETTINGS } from '../../../util/constants';\nimport BaseModel from '../lib/base-model';\n\nconst schema = {\n    name: {\n        type: 'string',\n        unique: true,\n        index: true,\n        defaultSort: true\n    },\n    value: {\n        type: 'json'\n    },\n    creationDate: {\n        type: 'timestamp'\n    },\n    modificationDate: {\n        type: 'timestamp'\n    }\n};\n\nclass SettingsRedisModel extends BaseModel {\n\n    constructor() {\n\n        super({ schema });\n    }\n\n    static get modelName() {\n\n        return MODEL_SETTINGS;\n    }\n\n    static get idGenerator() {\n\n        return 'increment';\n    }\n\n    static get definitions() {\n\n        return schema;\n    }\n\n    async findAll() {\n\n        const ids = await this.find();\n        return await this.findAllByIds({ ids });\n    }\n\n    async findByName({ name }) {\n\n        return await this.searchByField({ field: 'name', value: name });\n    }\n}\n\nmodule.exports = SettingsRedisModel;\n"],"file":"settings.redis-model.js"}
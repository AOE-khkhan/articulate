{"version":3,"sources":["../../../server/lib/errors/redis.error-handler.js"],"names":["module","exports","error","message","console","isHandled","response","statusCode","errorMessage","Error","Constants","ERROR_NOT_FOUND","ERROR_VALIDATION","JSON","stringify","errors","ERROR_FIELD_NOT_FOUND"],"mappings":";;AAAA;;;;;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,OAAO,GAAG;AAAnB,CAAD,KAA+B;AAE5CC,EAAAA,OAAO,CAACF,KAAR,CAAc;AAAEA,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAd;;AACA,MAAID,KAAK,CAACG,SAAV,EAAqB;AACjB,WAAOH,KAAP;AACH;;AACD,QAAMI,QAAQ,GAAG;AAAED,IAAAA,SAAS,EAAE,IAAb;AAAmBE,IAAAA,UAAU,EAAE;AAA/B,GAAjB;;AACA,MAAI,CAACL,KAAL,EAAY;AACR,WAAOI,QAAP;AACH;;AACD,QAAME,YAAY,GAAGN,KAAK,YAAYO,KAAjB,GAAyBP,KAAK,CAACC,OAA/B,GAAyCD,KAA9D;AACAC,EAAAA,OAAO,GAAGA,OAAO,GAAGA,OAAH,GAAaK,YAA9B;;AACA,UAAQA,YAAR;AACI,SAAKE,SAAS,CAACC,eAAf;AACI,+BAAYL,QAAZ;AAAsBH,QAAAA,OAAtB;AAA+BI,QAAAA,UAAU,EAAE;AAA3C;AAAkD;;AACtD,SAAKG,SAAS,CAACE,gBAAf;AACI,+BAAYN,QAAZ;AAAsBH,QAAAA,OAAO,EAAEU,IAAI,CAACC,SAAL,CAAeZ,KAAK,CAACa,MAArB,CAA/B;AAA6DR,QAAAA,UAAU,EAAE;AAAzE;;AACJ,SAAKG,SAAS,CAACM,qBAAf;AACI,+BAAYV,QAAZ;AAAsBH,QAAAA,OAAO,EAAEO,SAAS,CAACM,qBAAzC;AAAgET,QAAAA,UAAU,EAAE;AAA5E;AAAmF;;AACvF;AACI,+BAAYD,QAAZ;AAAsBH,QAAAA,OAAO,EAAEK;AAA/B;AAA+C;AARvD;AAUH,CAtBD","sourcesContent":["import * as Constants from '../../util/constants';\n\nmodule.exports = ({ error, message = null }) => {\n\n    console.error({ error, message });\n    if (error.isHandled) {\n        return error;\n    }\n    const response = { isHandled: true, statusCode: 500 };\n    if (!error) {\n        return response;\n    }\n    const errorMessage = error instanceof Error ? error.message : error;\n    message = message ? message : errorMessage;\n    switch (errorMessage) {\n        case Constants.ERROR_NOT_FOUND:\n            return { ...response, message, statusCode: 404 }; //NotFound\n        case Constants.ERROR_VALIDATION:\n            return { ...response, message: JSON.stringify(error.errors), statusCode: 400 };\n        case Constants.ERROR_FIELD_NOT_FOUND:\n            return { ...response, message: Constants.ERROR_FIELD_NOT_FOUND, statusCode: 400 }; //Bad Request\n        default:\n            return { ...response, message: errorMessage }; //BadImplementation\n    }\n};\n\n"],"file":"redis.error-handler.js"}
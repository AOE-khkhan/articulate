{"version":3,"sources":["../../../../server/lib/services/action/action.split-added-old-removed-ids.service.js"],"names":["module","exports","oldActions","newActions","AgentActionsModels","oldIds","_","map","filter","actionModel","indexOf","property","filteredOldModel","id","newIds","filteredNewModel","removed","difference","unchanged","intersection","previousKeywords","added"],"mappings":";;AAAA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,UAAd;AAA0BC,EAAAA;AAA1B,CAAD,KAAoD;AAEjE,QAAMC,MAAM,GAAGC,gBAAEC,GAAF,CAAMD,gBAAEE,MAAF,CAASJ,kBAAT,EAA8BK,WAAD,IAAiB;AAE/D,WAAOP,UAAU,CAACQ,OAAX,CAAmBD,WAAW,CAACE,QAAZ,CAAqB,YAArB,CAAnB,IAAyD,CAAC,CAAjE;AACH,GAHoB,CAAN,EAGVC,gBAAD,IAAsB;AAEtB,WAAOA,gBAAgB,CAACC,EAAxB;AACH,GANc,CAAf;;AAQA,QAAMC,MAAM,GAAGR,gBAAEC,GAAF,CAAMD,gBAAEE,MAAF,CAASJ,kBAAT,EAA8BK,WAAD,IAAiB;AAE/D,WAAON,UAAU,CAACO,OAAX,CAAmBD,WAAW,CAACE,QAAZ,CAAqB,YAArB,CAAnB,IAAyD,CAAC,CAAjE;AACH,GAHoB,CAAN,EAGVI,gBAAD,IAAsB;AAEtB,WAAOA,gBAAgB,CAACF,EAAxB;AACH,GANc,CAAf;;AAQA,QAAMG,OAAO,GAAGV,gBAAEW,UAAF,CAAaZ,MAAb,EAAqBS,MAArB,CAAhB;;AACA,QAAMI,SAAS,GAAGZ,gBAAEa,YAAF,CAAed,MAAf,EAAuBS,MAAvB,CAAlB;;AACA,QAAMM,gBAAgB,GAAG,CAAC,GAAGF,SAAJ,EAAe,GAAGF,OAAlB,CAAzB;;AACA,QAAMK,KAAK,GAAGf,gBAAEW,UAAF,CAAaH,MAAb,EAAqBM,gBAArB,CAAd;;AAEA,SAAO;AAAEC,IAAAA,KAAF;AAASL,IAAAA,OAAT;AAAkBE,IAAAA;AAAlB,GAAP;AACH,CAxBD","sourcesContent":["import _ from 'lodash';\n\nmodule.exports = ({ oldActions, newActions, AgentActionsModels }) => {\n\n    const oldIds = _.map(_.filter(AgentActionsModels, (actionModel) => {\n\n        return oldActions.indexOf(actionModel.property('actionName')) > -1;\n    }), (filteredOldModel) => {\n\n        return filteredOldModel.id;\n    });\n\n    const newIds = _.map(_.filter(AgentActionsModels, (actionModel) => {\n\n        return newActions.indexOf(actionModel.property('actionName')) > -1;\n    }), (filteredNewModel) => {\n\n        return filteredNewModel.id;\n    });\n\n    const removed = _.difference(oldIds, newIds);\n    const unchanged = _.intersection(oldIds, newIds);\n    const previousKeywords = [...unchanged, ...removed];\n    const added = _.difference(newIds, previousKeywords);\n\n    return { added, removed, unchanged };\n};\n"],"file":"action.split-added-old-removed-ids.service.js"}
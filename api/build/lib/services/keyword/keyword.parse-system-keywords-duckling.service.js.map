{"version":3,"sources":["../../../../server/lib/services/keyword/keyword.parse-system-keywords-duckling.service.js"],"names":["module","exports","ducklingData","ducklingDimension","replacer","key","value","isNaN","parseFloat","isFinite","toString","ducklingKeywords","_","map","keyword","indexOf","dim","end","extractor","start","JSON","parse","stringify","compact"],"mappings":";;AAAA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,UAAU;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAV,EAA+C;AAE5D,QAAMC,QAAQ,GAAG,CAACC,GAAD,EAAMC,KAAN,KAAgB;AAE7B,QAAI,CAACC,KAAK,CAACC,UAAU,CAACF,KAAD,CAAX,CAAN,IAA6BG,QAAQ,CAACH,KAAD,CAAzC,EAAkD;AAC9C,aAAOA,KAAK,CAACI,QAAN,EAAP;AACH;;AACD,WAAOJ,KAAP;AACH,GAND;;AAOA,QAAMK,gBAAgB,GAAGC,gBAAEC,GAAF,CAAMX,YAAN,EAAqBY,OAAD,IAAa;AAEtD,QAAIX,iBAAiB,CAACY,OAAlB,CAA0BD,OAAO,CAACE,GAAlC,MAA2C,CAAC,CAAhD,EAAmD;AAC/C,aAAO;AACHC,QAAAA,GAAG,EAAEH,OAAO,CAACG,GADV;AAEHH,QAAAA,OAAO,EAAE,kBAAkBA,OAAO,CAACE,GAFhC;AAGHE,QAAAA,SAAS,EAAE,UAHR;AAIHC,QAAAA,KAAK,EAAEL,OAAO,CAACK,KAJZ;AAKHb,QAAAA,KAAK,EAAEc,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeR,OAAO,CAACR,KAAvB,EAA8BF,QAA9B,CAAX;AALJ,OAAP;AAOH;;AACD,WAAO,IAAP;AACH,GAZwB,CAAzB;;AAaA,SAAOQ,gBAAEW,OAAF,CAAUZ,gBAAV,CAAP;AAEH,CAxBD","sourcesContent":["import _ from 'lodash';\n\nmodule.exports = function ({ ducklingData, ducklingDimension }) {\n\n    const replacer = (key, value) => {\n\n        if (!isNaN(parseFloat(value)) && isFinite(value)) {\n            return value.toString();\n        }\n        return value;\n    };\n    const ducklingKeywords = _.map(ducklingData, (keyword) => {\n\n        if (ducklingDimension.indexOf(keyword.dim) !== -1) {\n            return {\n                end: keyword.end,\n                keyword: 'sys.duckling_' + keyword.dim,\n                extractor: 'duckling',\n                start: keyword.start,\n                value: JSON.parse(JSON.stringify(keyword.value, replacer))\n            };\n        }\n        return null;\n    });\n    return _.compact(ducklingKeywords);\n\n};\n"],"file":"keyword.parse-system-keywords-duckling.service.js"}
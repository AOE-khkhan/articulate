{"version":3,"sources":["../../../../server/lib/services/keyword/keyword.create.service.js"],"names":["module","exports","data","agent","returnModel","redis","server","app","KeywordModel","factory","MODEL_KEYWORD","createInstance","link","save","allProperties","error"],"mappings":";;AAAA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,KAAK,GAAG,IAAhB;AAAsBC,EAAAA,WAAW,GAAG;AAApC,CAAhB,EAA6D;AAAA,QAElEC,KAFkE,GAExD,KAAKC,MAAL,CAAYC,GAF4C,CAElEF,KAFkE;AAG1E,QAAMG,YAAY,GAAG,MAAMH,KAAK,CAACI,OAAN,CAAcC,wBAAd,CAA3B;;AACA,MAAI;AACA,UAAMF,YAAY,CAACG,cAAb,CAA4B;AAAET,MAAAA;AAAF,KAA5B,CAAN;;AACA,QAAIC,KAAJ,EAAW;AACP,YAAMA,KAAK,CAACS,IAAN,CAAWJ,YAAX,EAAyBE,wBAAzB,CAAN;AACA,YAAMP,KAAK,CAACU,IAAN,EAAN;AACH;;AACD,WAAOT,WAAW,GAAGI,YAAH,GAAkBA,YAAY,CAACM,aAAb,EAApC;AACH,GAPD,CAQA,OAAOC,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAfD","sourcesContent":["import { MODEL_KEYWORD } from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ data, agent = null, returnModel = false }) {\n\n    const { redis } = this.server.app;\n    const KeywordModel = await redis.factory(MODEL_KEYWORD);\n    try {\n        await KeywordModel.createInstance({ data });\n        if (agent) {\n            await agent.link(KeywordModel, MODEL_KEYWORD);\n            await agent.save();\n        }\n        return returnModel ? KeywordModel : KeywordModel.allProperties();\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"keyword.create.service.js"}
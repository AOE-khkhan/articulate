{"version":3,"sources":["../../../../server/lib/services/settings/settings.update-by-name.service.js"],"names":["module","exports","name","value","returnModel","redis","server","app","Model","factory","MODEL_SETTINGS","findByName","updateInstance","data","allProperties","error"],"mappings":";;AAAA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,KAAR;AAAeC,EAAAA,WAAW,GAAG;AAA7B,CAAhB,EAAsD;AAAA,QAE3DC,KAF2D,GAEjD,KAAKC,MAAL,CAAYC,GAFqC,CAE3DF,KAF2D;AAGnE,QAAMG,KAAK,GAAG,MAAMH,KAAK,CAACI,OAAN,CAAcC,yBAAd,CAApB;;AACA,MAAI;AACA,UAAMF,KAAK,CAACG,UAAN,CAAiB;AAAET,MAAAA;AAAF,KAAjB,CAAN;AACA,UAAMM,KAAK,CAACI,cAAN,CAAqB;AAAEC,MAAAA,IAAI,EAAE;AAAEV,QAAAA;AAAF;AAAR,KAArB,CAAN;AACA,WAAOC,WAAW,GAAGI,KAAH,GAAWA,KAAK,CAACM,aAAN,EAA7B;AACH,GAJD,CAKA,OAAOC,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAZD","sourcesContent":["import { MODEL_SETTINGS } from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ name, value, returnModel = false }) {\n\n    const { redis } = this.server.app;\n    const Model = await redis.factory(MODEL_SETTINGS);\n    try {\n        await Model.findByName({ name });\n        await Model.updateInstance({ data: { value } });\n        return returnModel ? Model : Model.allProperties();\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"settings.update-by-name.service.js"}
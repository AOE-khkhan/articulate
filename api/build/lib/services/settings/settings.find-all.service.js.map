{"version":3,"sources":["../../../../server/lib/services/settings/settings.find-all.service.js"],"names":["module","exports","asArray","redis","server","app","Model","factory","MODEL_SETTINGS","settingsArray","findAll","settings","forEach","setting","allProperties","name","value","error"],"mappings":";;AAAA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,OAAO,GAAG;AAAZ,IAAsB,EAAtC,EAA0C;AAAA,QAE/CC,KAF+C,GAErC,KAAKC,MAAL,CAAYC,GAFyB,CAE/CF,KAF+C;AAGvD,QAAMG,KAAK,GAAG,MAAMH,KAAK,CAACI,OAAN,CAAcC,yBAAd,CAApB;;AAEA,MAAI;AAEA,UAAMC,aAAa,GAAG,MAAMH,KAAK,CAACI,OAAN,EAA5B;;AACA,QAAIR,OAAJ,EAAa;AACT,aAAOO,aAAP;AACH;;AACD,UAAME,QAAQ,GAAG,EAAjB;AACAF,IAAAA,aAAa,CAACG,OAAd,CAAuBC,OAAD,IAAa;AAAA,oCAEPA,OAAO,CAACC,aAAR,EAFO;AAAA,YAEvBC,IAFuB,yBAEvBA,IAFuB;AAAA,YAEjBC,KAFiB,yBAEjBA,KAFiB;;AAG/BL,MAAAA,QAAQ,CAACI,IAAD,CAAR,GAAiBC,KAAjB;AACH,KAJD;AAKA,WAAOL,QAAP;AACH,GAbD,CAcA,OAAOM,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAtBD","sourcesContent":["import { MODEL_SETTINGS } from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ asArray = false } = {}) {\n\n    const { redis } = this.server.app;\n    const Model = await redis.factory(MODEL_SETTINGS);\n\n    try {\n\n        const settingsArray = await Model.findAll();\n        if (asArray) {\n            return settingsArray;\n        }\n        const settings = {};\n        settingsArray.forEach((setting) => {\n\n            const { name, value } = setting.allProperties();\n            settings[name] = value;\n        });\n        return settings;\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"settings.find-all.service.js"}
{"version":3,"sources":["../../../../server/lib/services/webhook/webhook.create.service.js"],"names":["module","exports","data","parent","returnModel","redis","server","app","model","factory","MODEL_WEBHOOK","createInstance","link","save","allProperties","error"],"mappings":";;AAAA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,MAAM,GAAG,IAAjB;AAAuBC,EAAAA,WAAW,GAAG;AAArC,CAAhB,EAA8D;AAAA,QAEnEC,KAFmE,GAEzD,KAAKC,MAAL,CAAYC,GAF6C,CAEnEF,KAFmE;AAI3E,QAAMG,KAAK,GAAG,MAAMH,KAAK,CAACI,OAAN,CAAcC,wBAAd,CAApB;;AACA,MAAI;AACA,UAAMF,KAAK,CAACG,cAAN,CAAqB;AAAET,MAAAA;AAAF,KAArB,CAAN;AACA,UAAMC,MAAM,CAACS,IAAP,CAAYJ,KAAZ,EAAmBE,wBAAnB,CAAN;AACA,UAAMP,MAAM,CAACU,IAAP,EAAN;AACA,WAAOT,WAAW,GAAGI,KAAH,GAAWA,KAAK,CAACM,aAAN,EAA7B;AACH,GALD,CAMA,OAAOC,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAdD","sourcesContent":["import { MODEL_WEBHOOK } from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ data, parent = null, returnModel = false }) {\n\n    const { redis } = this.server.app;\n\n    const model = await redis.factory(MODEL_WEBHOOK);\n    try {\n        await model.createInstance({ data });\n        await parent.link(model, MODEL_WEBHOOK);\n        await parent.save();\n        return returnModel ? model : model.allProperties();\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"webhook.create.service.js"}
{"version":3,"sources":["../../../../server/lib/services/post-format/post-format.create.service.js"],"names":["module","exports","data","parent","returnModel","redis","server","app","PostFormatModel","factory","MODEL_POST_FORMAT","createInstance","link","save","allProperties","error"],"mappings":";;AAAA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,MAAM,GAAG,IAAjB;AAAuBC,EAAAA,WAAW,GAAG;AAArC,CAAhB,EAA8D;AAAA,QAEnEC,KAFmE,GAEzD,KAAKC,MAAL,CAAYC,GAF6C,CAEnEF,KAFmE;AAI3E,QAAMG,eAAe,GAAG,MAAMH,KAAK,CAACI,OAAN,CAAcC,4BAAd,CAA9B;;AACA,MAAI;AACA,UAAMF,eAAe,CAACG,cAAhB,CAA+B;AAAET,MAAAA;AAAF,KAA/B,CAAN;AACA,UAAMC,MAAM,CAACS,IAAP,CAAYJ,eAAZ,EAA6BE,4BAA7B,CAAN;AACA,UAAMP,MAAM,CAACU,IAAP,EAAN;AACA,WAAOT,WAAW,GAAGI,eAAH,GAAqBA,eAAe,CAACM,aAAhB,EAAvC;AACH,GALD,CAMA,OAAOC,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAdD","sourcesContent":["import { MODEL_POST_FORMAT } from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ data, parent = null, returnModel = false }) {\n\n    const { redis } = this.server.app;\n\n    const PostFormatModel = await redis.factory(MODEL_POST_FORMAT);\n    try {\n        await PostFormatModel.createInstance({ data });\n        await parent.link(PostFormatModel, MODEL_POST_FORMAT);\n        await parent.save();\n        return returnModel ? PostFormatModel : PostFormatModel.allProperties();\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"post-format.create.service.js"}
{"version":3,"sources":["../../../../server/lib/services/context/context.create-frame.service.js"],"names":["module","exports","sessionId","frameData","returnModel","server","services","contextService","frameService","ContextModel","findBySession","create","context","data","error"],"mappings":";;AAAA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,SAAF;AAAaC,EAAAA,SAAb;AAAwBC,EAAAA,WAAW,GAAG;AAAtC,CAAhB,EAA+D;AAAA,eAKxE,MAAM,KAAKC,MAAL,CAAYC,QAAZ,EALkE;AAAA,QAGxEC,cAHwE,QAGxEA,cAHwE;AAAA,QAIxEC,YAJwE,QAIxEA,YAJwE;;AAO5E,MAAI;AACA,UAAMC,YAAY,GAAG,MAAMF,cAAc,CAACG,aAAf,CAA6B;AAAER,MAAAA,SAAF;AAAaE,MAAAA,WAAW,EAAE;AAA1B,KAA7B,CAA3B;AACA,WAAO,MAAMI,YAAY,CAACG,MAAb,CAAoB;AAAEC,MAAAA,OAAO,EAAEH,YAAX;AAAyBI,MAAAA,IAAI,EAAEV,SAA/B;AAA0CC,MAAAA;AAA1C,KAApB,CAAb;AAEH,GAJD,CAKA,OAAOU,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAfD","sourcesContent":["import RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ sessionId, frameData, returnModel = false }) {\n\n    const {\n        contextService,\n        frameService\n    } = await this.server.services();\n\n    try {\n        const ContextModel = await contextService.findBySession({ sessionId, returnModel: true });\n        return await frameService.create({ context: ContextModel, data: frameData, returnModel });\n\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"context.create-frame.service.js"}
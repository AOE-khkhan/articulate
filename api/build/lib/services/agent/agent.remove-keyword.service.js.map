{"version":3,"sources":["../../../../server/lib/services/agent/agent.remove-keyword.service.js"],"names":["module","exports","id","keywordId","server","services","globalService","keywordService","modelPath","MODEL_AGENT","MODEL_KEYWORD","modelPathIds","models","getAllModelsInPath","ids","returnModel","KeywordModel","remove","error"],"mappings":";;AAAA;;AAIA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAAhB,EAAmC;AAAA,eAEN,MAAM,KAAKC,MAAL,CAAYC,QAAZ,EAFA;AAAA,QAExCC,aAFwC,QAExCA,aAFwC;AAAA,QAEzBC,cAFyB,QAEzBA,cAFyB;;AAGhD,MAAI;AAEA,UAAMC,SAAS,GAAG,CAACC,sBAAD,EAAcC,wBAAd,CAAlB;AACA,UAAMC,YAAY,GAAG,CAACT,EAAD,EAAKC,SAAL,CAArB;AACA,UAAMS,MAAM,GAAG,MAAMN,aAAa,CAACO,kBAAd,CAAiC;AAAEL,MAAAA,SAAF;AAAaM,MAAAA,GAAG,EAAEH,YAAlB;AAAgCI,MAAAA,WAAW,EAAE;AAA7C,KAAjC,CAArB;AACA,UAAMC,YAAY,GAAGJ,MAAM,CAACF,wBAAD,CAA3B;AACA,WAAO,MAAMH,cAAc,CAACU,MAAf,CAAsB;AAAED,MAAAA;AAAF,KAAtB,CAAb;AACH,GAPD,CAQA,OAAOE,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAdD","sourcesContent":["import {\n    MODEL_AGENT,\n    MODEL_KEYWORD\n} from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ id, keywordId }) {\n\n    const { globalService, keywordService } = await this.server.services();\n    try {\n\n        const modelPath = [MODEL_AGENT, MODEL_KEYWORD];\n        const modelPathIds = [id, keywordId];\n        const models = await globalService.getAllModelsInPath({ modelPath, ids: modelPathIds, returnModel: true });\n        const KeywordModel = models[MODEL_KEYWORD];\n        return await keywordService.remove({ KeywordModel });\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"agent.remove-keyword.service.js"}
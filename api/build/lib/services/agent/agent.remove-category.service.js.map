{"version":3,"sources":["../../../../server/lib/services/agent/agent.remove-category.service.js"],"names":["module","exports","id","categoryId","server","services","globalService","categoryService","modelPath","MODEL_AGENT","MODEL_CATEGORY","modelPathIds","models","getAllModelsInPath","ids","returnModel","AgentModel","CategoryModel","remove","error"],"mappings":";;AAAA;;AAIA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAAhB,EAAoC;AAAA,eAEN,MAAM,KAAKC,MAAL,CAAYC,QAAZ,EAFA;AAAA,QAEzCC,aAFyC,QAEzCA,aAFyC;AAAA,QAE1BC,eAF0B,QAE1BA,eAF0B;;AAGjD,MAAI;AAEA,UAAMC,SAAS,GAAG,CAACC,sBAAD,EAAcC,yBAAd,CAAlB;AACA,UAAMC,YAAY,GAAG,CAACT,EAAD,EAAKC,UAAL,CAArB;AACA,UAAMS,MAAM,GAAG,MAAMN,aAAa,CAACO,kBAAd,CAAiC;AAAEL,MAAAA,SAAF;AAAaM,MAAAA,GAAG,EAAEH,YAAlB;AAAgCI,MAAAA,WAAW,EAAE;AAA7C,KAAjC,CAArB;AACA,UAAMC,UAAU,GAAGJ,MAAM,CAACH,sBAAD,CAAzB;AACA,UAAMQ,aAAa,GAAGL,MAAM,CAACF,yBAAD,CAA5B;AACA,WAAO,MAAMH,eAAe,CAACW,MAAhB,CAAuB;AAAED,MAAAA,aAAF;AAAiBD,MAAAA;AAAjB,KAAvB,CAAb;AACH,GARD,CASA,OAAOG,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAfD","sourcesContent":["import {\n    MODEL_AGENT,\n    MODEL_CATEGORY\n} from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ id, categoryId }) {\n\n    const { globalService, categoryService } = await this.server.services();\n    try {\n\n        const modelPath = [MODEL_AGENT, MODEL_CATEGORY];\n        const modelPathIds = [id, categoryId];\n        const models = await globalService.getAllModelsInPath({ modelPath, ids: modelPathIds, returnModel: true });\n        const AgentModel = models[MODEL_AGENT];\n        const CategoryModel = models[MODEL_CATEGORY];\n        return await categoryService.remove({ CategoryModel, AgentModel });\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"agent.remove-category.service.js"}
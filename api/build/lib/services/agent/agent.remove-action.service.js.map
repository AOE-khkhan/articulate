{"version":3,"sources":["../../../../server/lib/services/agent/agent.remove-action.service.js"],"names":["module","exports","id","actionId","server","services","globalService","actionService","modelPath","model","MODEL_AGENT","MODEL_ACTION","findInModelPath","returnModel","remove","error"],"mappings":";;AAAA;;AAIA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAAhB,EAAkC;AAAA,eAEN,MAAM,KAAKC,MAAL,CAAYC,QAAZ,EAFA;AAAA,QAEvCC,aAFuC,QAEvCA,aAFuC;AAAA,QAExBC,aAFwB,QAExBA,aAFwB;;AAG/C,MAAI;AACA,UAAMC,SAAS,GAAG,CACd;AAAEC,MAAAA,KAAK,EAAEC,sBAAT;AAAsBR,MAAAA;AAAtB,KADc,EAEd;AAAEO,MAAAA,KAAK,EAAEE,uBAAT;AAAuBT,MAAAA,EAAE,EAAEC;AAA3B,KAFc,CAAlB,CADA,CAKA;;AACA,UAAMG,aAAa,CAACM,eAAd,CAA8B;AAAEJ,MAAAA,SAAF;AAAaK,MAAAA,WAAW,EAAE;AAA1B,KAA9B,CAAN;AACA,WAAO,MAAMN,aAAa,CAACO,MAAd,CAAqB;AAAEZ,MAAAA,EAAE,EAAEC;AAAN,KAArB,CAAb;AACH,GARD,CASA,OAAOY,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAfD","sourcesContent":["import {\n    MODEL_ACTION,\n    MODEL_AGENT\n} from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ id, actionId }) {\n\n    const { globalService, actionService } = await this.server.services();\n    try {\n        const modelPath = [\n            { model: MODEL_AGENT, id },\n            { model: MODEL_ACTION, id: actionId }\n        ];\n        // Validate action belongs to agent\n        await globalService.findInModelPath({ modelPath, returnModel: true });\n        return await actionService.remove({ id: actionId });\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"agent.remove-action.service.js"}
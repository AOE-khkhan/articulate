{"version":3,"sources":["../../../../server/lib/services/agent/agent.remove.service.js"],"names":["module","exports","id","redis","server","app","Agent","factory","MODEL_AGENT","findById","removeInstance","error","message"],"mappings":";;AAAA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA;AAAF,CAAhB,EAAwB;AAAA,QAE7BC,KAF6B,GAEnB,KAAKC,MAAL,CAAYC,GAFO,CAE7BF,KAF6B;AAGrC,QAAMG,KAAK,GAAG,MAAMH,KAAK,CAACI,OAAN,CAAcC,sBAAd,CAApB;;AACA,MAAI;AACA;AACA;AACA;AAEA,UAAMF,KAAK,CAACG,QAAN,CAAe;AAAEP,MAAAA;AAAF,KAAf,CAAN;AACA,WAAOI,KAAK,CAACI,cAAN,CAAqB;AAAER,MAAAA;AAAF,KAArB,CAAP;AACH,GAPD,CAQA,OAAOS,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA,KAAF;AAASC,MAAAA,OAAO,EAAG,aAAYV,EAAG;AAAlC,KAAlB,CAAN;AACH;AAEJ,CAhBD","sourcesContent":["import { MODEL_AGENT } from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ id }) {\n\n    const { redis } = this.server.app;\n    const Agent = await redis.factory(MODEL_AGENT);\n    try {\n        //TODO: Delete Categories\n        //TODO: Delete Keyword\n        //TODO: Delete agentCategoryRecognizer\n\n        await Agent.findById({ id });\n        return Agent.removeInstance({ id });\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error, message: `Agent id=[${id}]` });\n    }\n\n};\n"],"file":"agent.remove.service.js"}
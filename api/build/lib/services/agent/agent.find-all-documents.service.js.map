{"version":3,"sources":["../../../../server/lib/services/agent/agent.find-all-documents.service.js"],"names":["module","exports","id","direction","skip","limit","field","server","services","globalService","documentService","findById","model","MODEL_AGENT","returnModel","findByAgentId","agentId","error"],"mappings":";;AAAA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,EAAF;AAAMC,EAAAA,SAAN;AAAiBC,EAAAA,IAAjB;AAAuBC,EAAAA,KAAvB;AAA8BC,EAAAA;AAA9B,CAAhB,EAAuD;AAAA,eAEzB,MAAM,KAAKC,MAAL,CAAYC,QAAZ,EAFmB;AAAA,QAE5DC,aAF4D,QAE5DA,aAF4D;AAAA,QAE7CC,eAF6C,QAE7CA,eAF6C;;AAIpE,MAAI;AACA,UAAMD,aAAa,CAACE,QAAd,CAAuB;AAAET,MAAAA,EAAF;AAAMU,MAAAA,KAAK,EAAEC,sBAAb;AAA0BC,MAAAA,WAAW,EAAE;AAAvC,KAAvB,CAAN;AACA,WAAO,MAAMJ,eAAe,CAACK,aAAhB,CAA8B;AAAEC,MAAAA,OAAO,EAAEd,EAAX;AAAeC,MAAAA,SAAf;AAA0BC,MAAAA,IAA1B;AAAgCC,MAAAA,KAAhC;AAAuCC,MAAAA;AAAvC,KAA9B,CAAb;AACH,GAHD,CAIA,OAAOW,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAXD","sourcesContent":["import { MODEL_AGENT } from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ id, direction, skip, limit, field }) {\n\n    const { globalService, documentService } = await this.server.services();\n\n    try {\n        await globalService.findById({ id, model: MODEL_AGENT, returnModel: true });\n        return await documentService.findByAgentId({ agentId: id, direction, skip, limit, field });\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"agent.find-all-documents.service.js"}
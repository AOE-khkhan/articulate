{"version":3,"sources":["../../../../server/lib/services/agent/agent.update-action.service.js"],"names":["module","exports","id","AgentModel","actionId","actionData","returnModel","server","services","globalService","actionService","findById","model","MODEL_AGENT","upsert","data","error"],"mappings":";;AAAA;;AACA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBACb;AACIC,EAAAA,EADJ;AAEIC,EAAAA,UAAU,GAAG,IAFjB;AAGIC,EAAAA,QAHJ;AAIIC,EAAAA,UAJJ;AAKIC,EAAAA,WAAW,GAAG;AALlB,CADa,EAQf;AAAA,eAE2C,MAAM,KAAKC,MAAL,CAAYC,QAAZ,EAFjD;AAAA,QAEUC,aAFV,QAEUA,aAFV;AAAA,QAEyBC,aAFzB,QAEyBA,aAFzB;;AAIE,MAAI;AACAP,IAAAA,UAAU,GAAGA,UAAU,KAAI,MAAMM,aAAa,CAACE,QAAd,CAAuB;AAAET,MAAAA,EAAF;AAAMU,MAAAA,KAAK,EAAEC,sBAAb;AAA0BP,MAAAA,WAAW,EAAE;AAAvC,KAAvB,CAAV,CAAvB;AACA,WAAO,MAAMI,aAAa,CAACI,MAAd,CAAqB;AAAEC,MAAAA,IAAI,EAAEV,UAAR;AAAoBD,MAAAA,QAApB;AAA8BD,MAAAA,UAA9B;AAA0CG,MAAAA;AAA1C,KAArB,CAAb;AACH,GAHD,CAIA,OAAOU,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAnBD","sourcesContent":["import { MODEL_AGENT } from '../../../util/constants';\nimport RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function (\n    {\n        id,\n        AgentModel = null,\n        actionId,\n        actionData,\n        returnModel = false\n    }\n) {\n\n    const { globalService, actionService } = await this.server.services();\n\n    try {\n        AgentModel = AgentModel || await globalService.findById({ id, model: MODEL_AGENT, returnModel: true });\n        return await actionService.upsert({ data: actionData, actionId, AgentModel, returnModel });\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"agent.update-action.service.js"}
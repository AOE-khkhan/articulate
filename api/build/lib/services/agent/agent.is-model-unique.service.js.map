{"version":3,"sources":["../../../../server/lib/services/agent/agent.is-model-unique.service.js"],"names":["module","exports","AgentModel","field","model","value","server","services","globalService","Models","searchByField","length","belongsTo","error"],"mappings":";;AAAA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,KAAd;AAAqBC,EAAAA,KAArB;AAA4BC,EAAAA;AAA5B,CAAhB,EACf;AAAA,eAE4B,MAAM,KAAKC,MAAL,CAAYC,QAAZ,EAFlC;AAAA,QAEUC,aAFV,QAEUA,aAFV;;AAIE,MAAI;AAEA,UAAMC,MAAM,GAAG,MAAMD,aAAa,CAACE,aAAd,CAA4B;AAAEP,MAAAA,KAAF;AAASE,MAAAA,KAAT;AAAgBD,MAAAA;AAAhB,KAA5B,CAArB;AACA,WAAOK,MAAM,IAAIA,MAAM,CAACE,MAAP,KAAkB,CAA5B,GAAgC,IAAhC,GAAuC,EAAC,MAAMT,UAAU,CAACU,SAAX,CAAqBH,MAAM,CAAC,CAAD,CAA3B,EAAgCL,KAAhC,CAAP,CAA9C;AACH,GAJD,CAKA,OAAOS,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA;AAAF,KAAlB,CAAN;AACH;AACJ,CAbD","sourcesContent":["import RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ AgentModel, field, model, value }\n) {\n\n    const { globalService } = await this.server.services();\n\n    try {\n\n        const Models = await globalService.searchByField({ field, value, model });\n        return Models && Models.length === 0 ? true : !await AgentModel.belongsTo(Models[0], model);\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error });\n    }\n};\n"],"file":"agent.is-model-unique.service.js"}
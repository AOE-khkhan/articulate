{"version":3,"sources":["../../../../server/lib/services/global/global.load-all-by-ids.service.js"],"names":["module","exports","ids","model","returnModel","redis","server","app","Model","factory","results","loadAllByIds","map","resultModel","allProperties","error","message","join"],"mappings":";;AAAA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB,gBAAgB;AAAEC,EAAAA,GAAF;AAAOC,EAAAA,KAAP;AAAcC,EAAAA,WAAW,GAAG;AAA5B,CAAhB,EAAqD;AAAA,QAE1DC,KAF0D,GAEhD,KAAKC,MAAL,CAAYC,GAFoC,CAE1DF,KAF0D;;AAIlE,MAAI;AACA,UAAMG,KAAK,GAAG,MAAMH,KAAK,CAACI,OAAN,CAAcN,KAAd,CAApB;AACA,UAAMO,OAAO,GAAG,MAAMF,KAAK,CAACG,YAAN,CAAmB;AAAET,MAAAA;AAAF,KAAnB,CAAtB;;AACA,QAAIE,WAAJ,EAAiB;AACb,aAAOM,OAAP;AACH;;AACD,WAAOA,OAAO,CAACE,GAAR,CAAaC,WAAD,IAAiBA,WAAW,CAACC,aAAZ,EAA7B,CAAP;AACH,GAPD,CAQA,OAAOC,KAAP,EAAc;AACV,UAAM,oBAAkB;AAAEA,MAAAA,KAAF;AAASC,MAAAA,OAAO,EAAG,GAAEb,KAAM,SAAQD,GAAG,CAACe,IAAJ,CAAS,GAAT,CAAc;AAAjD,KAAlB,CAAN;AACH;AACJ,CAfD","sourcesContent":["import RedisErrorHandler from '../../errors/redis.error-handler';\n\nmodule.exports = async function ({ ids, model, returnModel = false }) {\n\n    const { redis } = this.server.app;\n\n    try {\n        const Model = await redis.factory(model);\n        const results = await Model.loadAllByIds({ ids });\n        if (returnModel) {\n            return results;\n        }\n        return results.map((resultModel) => resultModel.allProperties());\n    }\n    catch (error) {\n        throw RedisErrorHandler({ error, message: `${model} ids=[${ids.join(',')}]` });\n    }\n};\n"],"file":"global.load-all-by-ids.service.js"}
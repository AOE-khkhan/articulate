{"version":3,"sources":["../../server/lib/index.js"],"names":["HauteCouture","require","Package","logger","name","exports","plugin","pkg","register","server","options","amendments","remove","add","place","list","method","after","dependency","using","info"],"mappings":";;AAAA,MAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,oBAAD,CAAvB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,gBAAD,CAAP,CAA0B;AAAEG,EAAAA,IAAI,EAAG;AAAT,CAA1B,CAAf;;AAEAC,OAAO,CAACC,MAAR,GAAiB;AACbC,EAAAA,GAAG,EAAEL,OADQ;AAEbM,EAAAA,QAAQ,EAAE,OAAOC,MAAP,EAAeC,OAAf,KAA2B;AAEjC,UAAMC,UAAU,GAAG;AACfC,MAAAA,MAAM,EAAE,CAAC,QAAD,CADO;AAEfC,MAAAA,GAAG,EAAE,CACD;AACIC,QAAAA,KAAK,EAAE,MADX;AAEIC,QAAAA,IAAI,EAAE,IAFV;AAGIC,QAAAA,MAAM,EAAE,UAHZ;AAIIC,QAAAA,KAAK,EAAE,CAAC,SAAD,EAAY,UAAZ;AAJX,OADC,EAOD;AACIH,QAAAA,KAAK,EAAE,WADX;AAEIC,QAAAA,IAAI,EAAE,IAFV;AAGIC,QAAAA,MAAM,EAAE,UAHZ;AAIIC,QAAAA,KAAK,EAAE,CAAC,SAAD,EAAY,UAAZ;AAJX,OAPC;AAFU,KAAnB,CAFiC,CAkBjC;;AACAR,IAAAA,MAAM,CAACS,UAAP,CAAkB,CAAC,YAAD,EAAe,OAAf,EAAwB,KAAxB,CAAlB;AACA,UAAMlB,YAAY,CAACmB,KAAb,CAAmB,IAAnB,EAAyBR,UAAzB,EAAqCF,MAArC,EAA6CC,OAA7C,CAAN;AACAP,IAAAA,MAAM,CAACiB,IAAP,CAAY,YAAZ;AACH;AAxBY,CAAjB","sourcesContent":["const HauteCouture = require('haute-couture');\nconst Package = require('../../package.json');\nconst logger = require('../util/logger')({ name: `plugin:lib` });\n\nexports.plugin = {\n    pkg: Package,\n    register: async (server, options) => {\n\n        const amendments = {\n            remove: ['models'],\n            add: [\n                {\n                    place: 'init',\n                    list: true,\n                    method: 'services',\n                    after: ['plugins', 'register']\n                },\n                {\n                    place: 'websocket',\n                    list: true,\n                    method: 'services',\n                    after: ['plugins', 'register']\n                }]\n        };\n        // Custom plugin code can go here\n        server.dependency(['schmervice', 'redis', 'nes']);\n        await HauteCouture.using(null, amendments)(server, options);\n        logger.info('registered');\n    }\n};\n"],"file":"index.js"}
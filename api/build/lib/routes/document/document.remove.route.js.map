{"version":3,"sources":["../../../../server/lib/routes/document/document.remove.route.js"],"names":["module","exports","method","path","ROUTE_DOCUMENT","PARAM_DOCUMENT_ID","options","tags","validate","Validator","remove","handler","request","h","services","documentService","id","params","continue","message","statusCode","Boom"],"mappings":";;AAAA;;AACA;;AAIA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,QADK;AAEbC,EAAAA,IAAI,EAAG,IAAGC,yBAAe,KAAIC,4BAAkB,GAFlC;AAGbC,EAAAA,OAAO,EAAE;AACLC,IAAAA,IAAI,EAAE,CAAC,KAAD,CADD;AAELC,IAAAA,QAAQ,EAAEC,kBAAUC,MAFf;AAGLC,IAAAA,OAAO,EAAE,OAAOC,OAAP,EAAgBC,CAAhB,KAAsB;AAAA,mBAEC,MAAMD,OAAO,CAACE,QAAR,EAFP;AAAA,YAEnBC,eAFmB,QAEnBA,eAFmB;;AAAA,YAIFC,EAJE,GAKvBJ,OAAO,CAACK,MALe,CAItBZ,4BAJsB;;AAO3B,UAAI;AACA,cAAMU,eAAe,CAACL,MAAhB,CAAuB;AAAEM,UAAAA;AAAF,SAAvB,CAAN;AACA,eAAOH,CAAC,CAACK,QAAT;AACH,OAHD,CAIA,cAAgC;AAAA,YAAvBC,OAAuB,SAAvBA,OAAuB;AAAA,YAAdC,UAAc,SAAdA,UAAc;AAE5B,eAAO,IAAIC,aAAJ,CAASF,OAAT,EAAkB;AAAEC,UAAAA;AAAF,SAAlB,CAAP;AACH;AACJ;AAlBI;AAHI,CAAjB","sourcesContent":["import Boom from 'boom';\nimport {\n    PARAM_DOCUMENT_ID,\n    ROUTE_DOCUMENT\n} from '../../../util/constants';\nimport Validator from '../../validators/document.validator';\n\nmodule.exports = {\n    method: 'delete',\n    path: `/${ROUTE_DOCUMENT}/{${PARAM_DOCUMENT_ID}}`,\n    options: {\n        tags: ['api'],\n        validate: Validator.remove,\n        handler: async (request, h) => {\n\n            const { documentService } = await request.services();\n            const {\n                [PARAM_DOCUMENT_ID]: id\n            } = request.params;\n\n            try {\n                await documentService.remove({ id });\n                return h.continue;\n            }\n            catch ({ message, statusCode }) {\n\n                return new Boom(message, { statusCode });\n            }\n        }\n    }\n};\n\n"],"file":"document.remove.route.js"}
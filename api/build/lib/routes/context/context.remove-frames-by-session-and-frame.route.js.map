{"version":3,"sources":["../../../../server/lib/routes/context/context.remove-frames-by-session-and-frame.route.js"],"names":["module","exports","method","path","ROUTE_CONTEXT","PARAM_SESSION","ROUTE_FRAME","PARAM_FRAME","options","tags","validate","ContextValidator","removeBySessionAndFrame","handler","request","h","services","contextService","params","sessionId","frameId","removeFramesBySessionIdAndFrameId","continue","message","statusCode","Boom"],"mappings":";;AAAA;;AACA;;AAMA;;;;AAEAA,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,QADK;AAEbC,EAAAA,IAAI,EAAG,IAAGC,wBAAc,KAAIC,wBAAc,KAAIC,sBAAY,KAAIC,sBAAY,GAF7D;AAGbC,EAAAA,OAAO,EAAE;AACLC,IAAAA,IAAI,EAAE,CAAC,KAAD,CADD;AAELC,IAAAA,QAAQ,EAAEC,iBAAiBC,uBAFtB;AAGLC,IAAAA,OAAO,EAAE,OAAOC,OAAP,EAAgBC,CAAhB,KAAsB;AAAA,mBAEA,MAAMD,OAAO,CAACE,QAAR,EAFN;AAAA,YAEnBC,cAFmB,QAEnBA,cAFmB;;AAAA,8BAGoCH,OAAO,CAACI,MAH5C;AAAA,YAGFC,SAHE,mBAGlBd,wBAHkB;AAAA,YAGwBe,OAHxB,mBAGUb,sBAHV;;AAI3B,UAAI;AACA,cAAMU,cAAc,CAACI,iCAAf,CAAiD;AAAEF,UAAAA,SAAF;AAAaC,UAAAA;AAAb,SAAjD,CAAN;AACA,eAAOL,CAAC,CAACO,QAAT;AACH,OAHD,CAIA,cAAgC;AAAA,YAAvBC,OAAuB,SAAvBA,OAAuB;AAAA,YAAdC,UAAc,SAAdA,UAAc;AAE5B,eAAO,IAAIC,aAAJ,CAASF,OAAT,EAAkB;AAAEC,UAAAA;AAAF,SAAlB,CAAP;AACH;AACJ;AAfI;AAHI,CAAjB","sourcesContent":["import Boom from 'boom';\nimport {\n    PARAM_SESSION,\n    PARAM_FRAME,\n    ROUTE_CONTEXT,\n    ROUTE_FRAME\n} from '../../../util/constants';\nimport ContextValidator from '../../validators/context.validator';\n\nmodule.exports = {\n    method: 'delete',\n    path: `/${ROUTE_CONTEXT}/{${PARAM_SESSION}}/${ROUTE_FRAME}/{${PARAM_FRAME}}`,\n    options: {\n        tags: ['api'],\n        validate: ContextValidator.removeBySessionAndFrame,\n        handler: async (request, h) => {\n\n            const { contextService } = await request.services();\n            const { [PARAM_SESSION]: sessionId, [PARAM_FRAME]: frameId } = request.params;\n            try {\n                await contextService.removeFramesBySessionIdAndFrameId({ sessionId, frameId });\n                return h.continue;\n            }\n            catch ({ message, statusCode }) {\n\n                return new Boom(message, { statusCode });\n            }\n        }\n    }\n};\n\n"],"file":"context.remove-frames-by-session-and-frame.route.js"}
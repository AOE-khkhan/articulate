{"version":3,"sources":["../../../../server/lib/routes/agent/agent.import.route.js"],"names":["module","exports","method","path","ROUTE_AGENT","options","tags","validate","AgentValidator","import","handler","request","h","services","agentService","payload","message","statusCode","Boom"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEA;AAEAA,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,MAAM,EAAE,MADK;AAEbC,EAAAA,IAAI,EAAG,IAAGC,sBAAY,SAFT;AAGbC,EAAAA,OAAO,EAAE;AACLC,IAAAA,IAAI,EAAE,CAAC,KAAD,CADD;AAELC,IAAAA,QAAQ,EAAEC,eAAeC,MAFpB;AAGLC,IAAAA,OAAO,EAAE,OAAOC,OAAP,EAAgBC,CAAhB,KAAsB;AAAA,mBAEF,MAAMD,OAAO,CAACE,QAAR,EAFJ;AAAA,YAEnBC,YAFmB,QAEnBA,YAFmB;;AAG3B,UAAI;AACA,eAAO,MAAMA,YAAY,CAACL,MAAb,CAAoB;AAAEM,UAAAA,OAAO,EAAEJ,OAAO,CAACI;AAAnB,SAApB,CAAb,CADA,CAEA;AACH,OAHD,CAIA,cAAgC;AAAA,YAAvBC,OAAuB,SAAvBA,OAAuB;AAAA,YAAdC,UAAc,SAAdA,UAAc;AAC5B,eAAO,IAAIC,aAAJ,CAASF,OAAT,EAAkB;AAAEC,UAAAA;AAAF,SAAlB,CAAP;AACH;AACJ;AAbI;AAHI,CAAjB","sourcesContent":["import Boom from 'boom';\nimport { ROUTE_AGENT } from '../../../util/constants';\nimport AgentValidator from '../../validators/agent.validator';\n\n//const logger = require('../../../server/util/logger')({ name: `route:agent:create` });\n\nmodule.exports = {\n    method: 'post',\n    path: `/${ROUTE_AGENT}/import`,\n    options: {\n        tags: ['api'],\n        validate: AgentValidator.import,\n        handler: async (request, h) => {\n\n            const { agentService } = await request.services();\n            try {\n                return await agentService.import({ payload: request.payload });\n                //return h.continue;\n            }\n            catch ({ message, statusCode }) {\n                return new Boom(message, { statusCode });\n            }\n        }\n    }\n};\n"],"file":"agent.import.route.js"}
{"version":3,"sources":["../../../server/lib/validators/settings.validator.js"],"names":["SettingsModel","require","schema","SettingsValidate","constructor","create","payload","PARAM_NAME","name","required","description","PARAM_VALUE","value","findByName","params","allow","CONFIG_SETTINGS_ALL","updateByName","updateAll","keys","forEach","key","optional","Joi","object","actionValidate","module","exports"],"mappings":";;AAAA;;AAEA;;;;AAMA,MAAMA,aAAa,GAAGC,OAAO,CAAC,0BAAD,CAAP,CAAoCC,MAA1D;;AAEA,MAAMC,gBAAN,CAAuB;AACnBC,EAAAA,WAAW,GAAG;AAEV,SAAKC,MAAL,GAAc;AACVC,MAAAA,OAAO,EAAE,CAAC,MAAM;AAEZ,eAAO;AACH,WAACC,qBAAD,GAAcP,aAAa,CAACQ,IAAd,CAAmBC,QAAnB,GAA8BC,WAA9B,CAA0C,MAA1C,CADX;AAEH,WAACC,sBAAD,GAAeX,aAAa,CAACY,KAAd,CAAoBH,QAApB,GAA+BC,WAA/B,CAA2C,OAA3C;AAFZ,SAAP;AAIH,OANQ;AADC,KAAd;AASA,SAAKG,UAAL,GAAkB;AACdC,MAAAA,MAAM,EAAE,CAAC,MAAM;AAEX,eAAO;AACH,WAACP,qBAAD,GAAcP,aAAa,CACtBQ,IADS,CAETC,QAFS,GAGTM,KAHS,CAGHC,8BAHG,EAITN,WAJS,CAIG,MAJH;AADX,SAAP;AAOH,OATO;AADM,KAAlB;AAaA,SAAKO,YAAL,GAAoB;AAChBH,MAAAA,MAAM,EAAE,CAAC,MAAM;AAEX,eAAO;AACH,WAACP,qBAAD,GAAcP,aAAa,CACtBQ,IADS,CAETC,QAFS,GAGTM,KAHS,CAGHC,8BAHG;AADX,SAAP;AAMH,OARO,GADQ;AAUhBV,MAAAA,OAAO,EAAE,CAAC,MAAM;AAEZ,eAAON,aAAa,CAACY,KAAd,CAAoBH,QAApB,EAAP;AACH,OAHQ;AAVO,KAApB;AAgBA,SAAKS,SAAL,GAAiB;AACbZ,MAAAA,OAAO,EAAE,CAAC,MAAM;AAEZ,cAAMa,IAAI,GAAG,EAAb;;AACAH,uCAAoBI,OAApB,CAA6BC,GAAD,IAAS;AAEjCF,UAAAA,IAAI,CAACE,GAAD,CAAJ,GAAYrB,aAAa,CACpBY,KADO,CAEPU,QAFO,EAAZ;AAGH,SALD;;AAMA,eAAOC,aAAIC,MAAJ,GAAaL,IAAb,CAAkBA,IAAlB,CAAP;AACH,OAVQ;AADI,KAAjB;AAcH;;AAvDkB;;AA0DvB,MAAMM,cAAc,GAAG,IAAItB,gBAAJ,EAAvB;AACAuB,MAAM,CAACC,OAAP,GAAiBF,cAAjB","sourcesContent":["import Joi from 'joi';\n\nimport {\n    CONFIG_SETTINGS_ALL,\n    PARAM_NAME,\n    PARAM_VALUE\n} from '../../util/constants';\n\nconst SettingsModel = require('../models/settings.model').schema;\n\nclass SettingsValidate {\n    constructor() {\n\n        this.create = {\n            payload: (() => {\n\n                return {\n                    [PARAM_NAME]: SettingsModel.name.required().description('Name'),\n                    [PARAM_VALUE]: SettingsModel.value.required().description('Value')\n                };\n            })()\n        };\n        this.findByName = {\n            params: (() => {\n\n                return {\n                    [PARAM_NAME]: SettingsModel\n                        .name\n                        .required()\n                        .allow(CONFIG_SETTINGS_ALL)\n                        .description('Name')\n                };\n            })()\n        };\n\n        this.updateByName = {\n            params: (() => {\n\n                return {\n                    [PARAM_NAME]: SettingsModel\n                        .name\n                        .required()\n                        .allow(CONFIG_SETTINGS_ALL)\n                };\n            })(),\n            payload: (() => {\n\n                return SettingsModel.value.required();\n            })()\n        };\n\n        this.updateAll = {\n            payload: (() => {\n\n                const keys = {};\n                CONFIG_SETTINGS_ALL.forEach((key) => {\n\n                    keys[key] = SettingsModel\n                        .value\n                        .optional();\n                });\n                return Joi.object().keys(keys);\n            })()\n        };\n\n    }\n}\n\nconst actionValidate = new SettingsValidate();\nmodule.exports = actionValidate;\n"],"file":"settings.validator.js"}